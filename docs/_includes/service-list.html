{%- assign className = site.data.className -%}
{%- assign translation = site.data.lang[site.lang] -%}
{%- assign services = include.services | sort: 'price_year.sum' -%}

<section class="{{ className.products }}">

    <h3>{{ translation.products[include.type].title }}</h3>

    <table class="{{ className.products }}">

        <thead>
            <tr>
                <th class="{{ className.provider }}">{{ translation.products.webhotels.thead.provider }}</th>
                <th class="{{ className.name }}">{{ translation.products.webhotels.thead.name }}</th>
                <th class="{{ className.disk }}">{{ translation.products.webhotels.thead.disk }}</th>
                <th class="{{ className.price }}">{{ translation.products.webhotels.thead.price }}</th>
            </tr>
        </thead>

        <tbody>
        {%- for service in services -%}

            {%- assign year_vat_times = service.price_year.vat | plus: 1 -%}

            <tr>
                <td class="{{ className.provider }}">{{ service.provider }}</td>
                <td class="{{ className.name }}">

                    <a href="{{ service.href }}" target="_blank">{{ service.name | strip }}</a>

                    {% if service.conditions and service.conditions.size >= 1 -%}
                    | {{ service.conditions }}
                    {%- endif -%}

                    {% if service.ft_fi %}
                    <span class="flag-icon flag-icon-fi" title="Palvelin Suomessa"></span>
                    <span class="sr-only">Palvelin Suomessa</span>
                    {% endif %}

                    {% if service.ft_noncommercial %}
                    <span class="fa-stack" aria-hidden="true" title="Kaupallinen toiminta kielletty">
                      <i class="fa fa-credit-card fa-stack-1x"></i>
                      <i class="fa fa-ban fa-stack-2x text-danger"></i>
                    </span>
                    <span class="sr-only">Kaupallinen toiminta kielletty</span>
                    {% endif %}

                    {% if service.ft_backup %}
                    <i class="fa fa-hdd-o" title="Varmuuskopiointi sisältyy hintaan"></i>
                    <span class="sr-only">Varmuuskopiointi sisältyy hintaan</span>
                    {% endif %}

                    {% if service.ft_mysql or service.ft_postgresql %}

                        {% if service.ft_mysql and service.ft_postgresql %}
                            {% assign db_title="Tietokanta sisältyy hintaan (MySQL/PostgreSQL)" %}
                        {% elsif service.ft_mysql %}
                            {% assign db_title="Tietokanta sisältyy hintaan (MySQL)" %}
                        {% else %}
                            {% assign db_title="Tietokanta sisältyy hintaan (PostgreSQL)" %}
                        {% endif %}

                        <i class="fa fa-database" title="{{db_title}}"></i>
                        <span class="sr-only">{{db_title}}</span>

                    {% endif %}

                    {% if service.ft_root %}
                    <i class="fa fa-unlock-alt" aria-hidden="true" title="Pääkäyttäjän oikeudet käytettävissä (root)"></i>
                    <span class="sr-only">Pääkäyttäjän oikeudet käytettävissä (root)</span>
                    {% endif %}

                    {% if service.ft_email >= 1 %}
                    <i class="fa fa-envelope" aria-hidden="true" title="Sähköpostilaatikoita sisältyy ({{ service.ft_email }} kpl)"></i>
                    <span class="sr-only">Sähköpostilaatikoita sisältyy ({{ service.ft_email }} kpl)</span>
                    {% endif %}

                    {% if service.ft_shell >= 1 %}
                    <i class="fa fa-terminal" aria-hidden="true" title="Shell-tunnus sisältyy hintaan ({{ service.ft_shell }} kpl)"></i>
                    <span class="sr-only">Shell-tunnus sisältyy hintaan ({{ service.ft_shell }} kpl)</span>
                    {% elsif service.ft_ssh >= 1 %}
                    <i class="fa fa-terminal" aria-hidden="true" title="SSH sisältyy hintaan, mutta ei kokonainen shelli ({{ service.ft_ssh }} kpl)"></i>
                    <span class="sr-only">SSH sisältyy hintaan, mutta ei kokonainen shelli ({{ service.ft_ssh }} kpl)</span>
                    {% endif %}

                </td>
                <td class="{{ className.disk }}">{{ service.ft_disk }} GB</td>
                <td class="{{ className.price }}">{{ service.price_year.sum | round }} €</td>
            </tr>

        {%- endfor -%}
        </tbody>

    </table>

    <p>Hinnat esitelty ilman mahdollisia veroja (esim. ALV 24%).</p>

</section>
